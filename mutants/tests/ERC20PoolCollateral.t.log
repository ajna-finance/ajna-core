145 candidates in 1 test file
Warning: Configuration or test files have changed since necessist.db was created
Silence this warning with: --allow files-changed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol: dry running
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol: mutilating
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:51:9-67:11: `_assertPool(
            PoolParams({
                htp:                  0,
                lup:                  MAX_PRICE,
                poolSize:             30_000 * 1e18,
                pledgedCollateral:    0,
                encumberedCollateral: 0,
                poolDebt:             0,
                actualUtilization:    0,
                targetUtilization:    1e18,
                minDebtAmount:        0,
                loans:                0,
                maxBorrower:          address(0),
                interestRate:         0.05 * 1e18,
                interestRateUpdate:   _startTime
            })
        );` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:84:9-100:11: `_assertPool(
            PoolParams({
                htp:                  210.201923076923077020 * 1e18,
                lup:                  2_981.007422784467321543 * 1e18,
                poolSize:             30_000 * 1e18,
                pledgedCollateral:    100 * 1e18,
                encumberedCollateral: 7.051372011699988577 * 1e18,
                poolDebt:             21_020.192307692307702000 * 1e18,
                actualUtilization:    0,
                targetUtilization:    1e18,
                minDebtAmount:        2_102.019230769230770200 * 1e18,
                loans:                1,
                maxBorrower:          _borrower,
                interestRate:         0.05 * 1e18,
                interestRateUpdate:   _startTime
            })
        );` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:101:9-107:12: `_assertBorrower({
            borrower:                  _borrower,
            borrowerDebt:              21_020.192307692307702000 * 1e18,
            borrowerCollateral:        100 * 1e18,
            borrowert0Np:              220.712019230769230871 * 1e18,
            borrowerCollateralization: 14.181637252165253251 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:123:9-139:11: `_assertPool(
            PoolParams({
                htp:                  421.557216751451801727 * 1e18,
                lup:                  2_981.007422784467321543 * 1e18,
                poolSize:             30_024.492338129690940000 * 1e18,
                pledgedCollateral:    50 * 1e18,
                encumberedCollateral: 7.061038044473493202 * 1e18,
                poolDebt:             21_049.0068231390029184310 * 1e18,
                actualUtilization:    0.701634006858188002 * 1e18,
                targetUtilization:    0.141220760889469864 * 1e18,
                minDebtAmount:        2_104.900682313900291843 * 1e18,
                loans:                1,
                maxBorrower:          _borrower,
                interestRate:         0.055 * 1e18,
                interestRateUpdate:   _startTime + 10 days
            })
        );` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:140:9-146:12: `_assertBorrower({
            borrower:                  _borrower,
            borrowerDebt:              21_049.006823139002918431 * 1e18,
            borrowerCollateral:        50 * 1e18,
            borrowert0Np:              441.424038461538461742 * 1e18,
            borrowerCollateralization: 7.081111825921092812 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:159:9-175:11: `_assertPool(
            PoolParams({
                htp:                  2_985.093792841086761332 * 1e18,
                lup:                  2_981.007422784467321543 * 1e18,
                poolSize:             30_024.492338129690940000 * 1e18,
                pledgedCollateral:    7.061038044473493202 * 1e18,
                encumberedCollateral: 7.061038044473493202 * 1e18,
                poolDebt:             21_049.0068231390029184310 * 1e18,
                actualUtilization:    0.701634006858188002 * 1e18,
                targetUtilization:    0.141220760889469864 * 1e18,
                minDebtAmount:        2_104.900682313900291843 * 1e18,
                loans:                1,
                maxBorrower:          _borrower,
                interestRate:         0.055 * 1e18,
                interestRateUpdate:   _startTime + 10 days
            })
        );` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:176:9-182:12: `_assertBorrower({
            borrower:                  _borrower,
            borrowerDebt:              21_049.006823139002918431 * 1e18,
            borrowerCollateral:        7.061038044473493202 * 1e18,
            borrowert0Np:              3_140.657612229160876676 * 1e18,
            borrowerCollateralization: 1 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:227:9-243:11: `_assertPool(
            PoolParams({
                htp:                  210.201923076923077020 * 1e18,
                lup:                  2_981.007422784467321543 * 1e18,
                poolSize:             30_000 * 1e18,
                pledgedCollateral:    100 * 1e18,
                encumberedCollateral: 7.051372011699988577 * 1e18,
                poolDebt:             21_020.192307692307702000 * 1e18,
                actualUtilization:    0,
                targetUtilization:    1e18,
                minDebtAmount:        2_102.019230769230770200 * 1e18,
                loans:                1,
                maxBorrower:          _borrower,
                interestRate:         0.05 * 1e18,
                interestRateUpdate:   _startTime
            })
        );` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:244:9-250:12: `_assertBorrower({
            borrower:                  _borrower,
            borrowerDebt:              21_020.192307692307702000 * 1e18,
            borrowerCollateral:        100 * 1e18,
            borrowert0Np:              220.712019230769230871 * 1e18,
            borrowerCollateralization: 14.181637252165253251 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:269:9-275:12: `_assertBorrower({
            borrower:                  _borrower,
            borrowerDebt:              21_049.006823139002918431 * 1e18,
            borrowerCollateral:        50 * 1e18,
            borrowert0Np:              441.424038461538461742 * 1e18,
            borrowerCollateralization: 7.081111825921092812 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:291:9-297:12: `_assertBorrower({
            borrower:                  _borrower,
            borrowerDebt:              21_049.006823139002918431 * 1e18,
            borrowerCollateral:        7.061038044473493202 * 1e18,
            borrowert0Np:              3_140.657612229160876676 * 1e18,
            borrowerCollateralization: 1 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:309:9-312:12: `_assertPullInsufficientCollateralRevert({
            from:   _borrower,
            amount: 100 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:339:9-342:12: `_assertAddCollateralAtIndex0Revert({
            from:   _bidder,
            amount: 4 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:353:9-359:12: `_assertBucket({
            index:        2550,
            lpBalance:    12_043.56808879152623138 * 1e18,
            collateral:   4 * 1e18,
            deposit:      0,
            exchangeRate: 1 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:360:9-365:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2550,
            lpBalance:   12_043.56808879152623138 * 1e18,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:381:9-387:12: `_assertBucket({
            index:        2550,
            lpBalance:    7_436.903294828767447877 * 1e18,
            collateral:   2.47 * 1e18,
            deposit:      0,
            exchangeRate: 1 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:388:9-393:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2550,
            lpBalance:   7_436.903294828767447877 * 1e18,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:409:9-415:12: `_assertBucket({
            index:        2550,
            lpBalance:    0,
            collateral:   0,
            deposit:      0,
            exchangeRate: 1 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:416:9-421:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2550,
            lpBalance:   0,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:449:9-455:12: `_assertBucket({
            index:        1530,
            lpBalance:    243_808.126330587520990920 * 1e18,
            collateral:   0.5 * 1e18,
            deposit:      0,
            exchangeRate: 1 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:456:9-461:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       1530,
            lpBalance:   243_808.126330587520990920 * 1e18,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:477:9-483:12: `_assertBucket({
            index:        1530,
            lpBalance:    0,
            collateral:   0,
            deposit:      0,
            exchangeRate: 1 * 1e18
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:484:9-489:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       1530,
            lpBalance:   0,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:501:9-505:12: `_assertRemoveInsufficientCollateralRevert({
            from:  _lender,
            amount: 3.50 * 1e18,
            index:  testIndex
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:510:9-510:30: `changePrank(_bidder);` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:511:20-511:56: `.approve(address(_pool), 100 * 1e18)` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:521:9-524:12: `_assertRemoveAllCollateralNoClaimRevert({
            from:  _lender,
            index: testIndex
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:527:9-530:12: `_assertRemoveAllCollateralNoClaimRevert({
            from:  _lender,
            index: testIndex
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:543:9-559:11: `_assertPool(
            PoolParams({
                htp:                  0,
                lup:                  MAX_PRICE,
                poolSize:             0,
                pledgedCollateral:    0,
                encumberedCollateral: 0,
                poolDebt:             0,
                actualUtilization:    0,
                targetUtilization:    1e18,
                minDebtAmount:        0,
                loans:                0,
                maxBorrower:          address(0),
                interestRate:         0.05 * 1e18,
                interestRateUpdate:   _startTime
            })
        );` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:572:9-588:11: `_assertPool(
            PoolParams({
                htp:                  0,
                lup:                  MAX_PRICE,
                poolSize:             0,
                pledgedCollateral:    100 * 1e18,
                encumberedCollateral: 0,
                poolDebt:             0,
                actualUtilization:    0,
                targetUtilization:    1e18,
                minDebtAmount:        0,
                loans:                0,
                maxBorrower:          address(0),
                interestRate:         0.05 * 1e18,
                interestRateUpdate:   _startTime
            })
        );` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:603:9-608:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   0,
            depositTime: 0
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:609:9-614:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2570,
            lpBalance:   6879,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:615:9-621:12: `_assertBucket({
            index:        2570,
            lpBalance:    6879,
            collateral:   0,
            deposit:      6879,
            exchangeRate: 1 * 1e18 // exchange rate should not change
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:630:9-635:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   9927093687851.086595628225711617 * 1e18,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:636:9-641:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2570,
            lpBalance:   6879,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:642:9-648:12: `_assertBucket({
            index:        2570,
            lpBalance:    9927093687851.086595628225718496 * 1e18,
            collateral:   3642907759.282013932739218713 * 1e18,
            deposit:      6879,
            exchangeRate: 1 * 1e18 // exchange rate should not change
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:657:9-662:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   0, // LPs should get back to same value as before add / remove collateral
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:663:9-668:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2570,
            lpBalance:   6879, // LPs should get back to same value as before add / remove collateral
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:687:9-692:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   6879,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:693:9-699:12: `_assertBucket({
            index:        2570,
            lpBalance:    6879,
            collateral:   0,
            deposit:      6879,
            exchangeRate: 1 * 1e18 // exchange rate should not change
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:708:9-713:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   9927093687851.086595628225718496 * 1e18,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:714:9-720:12: `_assertBucket({
            index:        2570,
            lpBalance:    9927093687851.086595628225718496 * 1e18,
            collateral:   3642907759.282013932739218713 * 1e18,
            deposit:      6879,
            exchangeRate: 1 * 1e18 // exchange rate should not change
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:729:9-734:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   6879, // LPs should get back to same value as before add / remove collateral
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:753:9-758:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   0,
            depositTime: 0
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:759:9-764:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2570,
            lpBalance:   304,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:765:9-771:12: `_assertBucket({
            index:        2570,
            lpBalance:    304,
            collateral:   0,
            deposit:      304,
            exchangeRate: 1 * 1e18 // exchange rate should not change
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:780:9-785:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   2725,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:786:9-791:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2570,
            lpBalance:   304,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:792:9-798:12: `_assertBucket({
            index:        2570,
            lpBalance:    3029,
            collateral:   1,
            deposit:      304,
            exchangeRate: 1 * 1e18 // exchange rate should not change
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:801:9-804:12: `_assertRemoveAllCollateralInsufficientLPsRevert({
            from:  _bidder,
            index: 2570
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:813:9-818:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   0,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:819:9-824:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2570,
            lpBalance:   304,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:843:9-848:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   0,
            depositTime: 0
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:849:9-854:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2570,
            lpBalance:   2725,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:855:9-861:12: `_assertBucket({
            index:        2570,
            lpBalance:    2725,
            collateral:   0,
            deposit:      2725,
            exchangeRate: 1 * 1e18 // exchange rate should not change
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:870:9-875:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   2725,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:876:9-881:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2570,
            lpBalance:   2725,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:882:9-888:12: `_assertBucket({
            index:        2570,
            lpBalance:    5450,
            collateral:   1,
            deposit:      2725,
            exchangeRate: 1 * 1e18 // exchange rate should not change
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:907:9-912:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   0,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:913:9-918:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2570,
            lpBalance:   0,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:919:9-925:12: `_assertBucket({
            index:        2570,
            lpBalance:    0,
            collateral:   0,
            deposit:      0,
            exchangeRate: 1 * 1e18 // exchange rate should not change
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:944:9-949:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   0,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:950:9-955:12: `_assertLenderLpBalance({
            lender:      _bidder,
            index:       2570,
            lpBalance:   0,
            depositTime: _startTime
        });` passed
tests/forge/ERC20Pool/ERC20PoolCollateral.t.sol:986:9-991:12: `_assertLenderLpBalance({
            lender:      _lender,
            index:       2570,
            lpBalance:   2408878317819033617340.926215832879088042 * 1e18,
            depositTime: _startTime
        });` passed
