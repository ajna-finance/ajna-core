// SPDX-License-Identifier: UNLICENSED

import { BaseInvariants }            from "../invariants/BaseInvariants.t.sol";

pragma solidity 0.8.14;


contract RegressionTest is BaseInvariants { 

    function setUp() public override { 
        super.setUp();

    }

    function test_regression_invariantUnderflow_1() external {
        _basicPoolHandler.addCollateral(445, 1, 115792089237316195423570985008687907853269984665640564039457584007913129639932);
        _basicPoolHandler.addQuoteToken(115792089237316195423570985008687907853269984665640564039457584007913129639933, 4588232772325774538098739556, 66142404118519610838810572560015370772670823531701289488192924545336109752707);
        _basicPoolHandler.removeCollateral(11212, 8059, 3792);
        _basicPoolHandler.removeCollateral(6539, 2282, 12932);
        _basicPoolHandler.addQuoteToken(401247416000647025871691818007959504268307, 26152840641, 115792089237316195423570985008687907853269984665640564039457584007913129639933);
        _basicPoolHandler.drawDebt(27384089588040148752270954457374635, 2);
        _basicPoolHandler.drawDebt(0, 115792089237316195423570985008687907853269984665640564039457584007913129639934);
        _basicPoolHandler.repayDebt(7182, 764);
        _basicPoolHandler.addQuoteToken(115792089237316195423570985008687907853269984665640564039457584007913129639935, 912086495096743694087574660794748189684162550758088208513887364669090647, 0);
        _basicPoolHandler.removeCollateral(35184372088832, 67, 9864);
        _basicPoolHandler.drawDebt(43200, 1220);
        _basicPoolHandler.removeQuoteToken(349862589541, 9572, 18446744073709551616);
        _basicPoolHandler.repayDebt(5308, 11792);
        _basicPoolHandler.addQuoteToken(115792089237316195423570985008687907853269984665640564039457584007913129639933, 115792089237316195423570985008687907853269984665640564039457584007913129639932, 950871595714105372704439136282996392142747794303388);
        _basicPoolHandler.addQuoteToken(7460, 12708, 16356);
        _basicPoolHandler.drawDebt(4049020656, 8162);
        _basicPoolHandler.removeQuoteToken(14144, 5223, 12375);
        _basicPoolHandler.addQuoteToken(7636432575305003191556132831186750620, 2, 115792089237316195423570985008687907853269984665640564039457584007913129639935);
        _basicPoolHandler.removeQuoteToken(5088, 822333294739597949471917823180105001410001, 516861593);
        _basicPoolHandler.addCollateral(102905067735383944008, 115792089237316195423570985008687907853269984665640564039457584007913129639933, 115792089237316195423570985008687907853269984665640564039457584007913129639932);
        _basicPoolHandler.addCollateral(594264725994508429, 2, 10179782045861729097761198818308966067325742059583080491706507);
        // check invariants hold true
        invariant_Lps();
        invariant_quoteTokenBalance();
        invariant_fenwickTreeSum();

        _basicPoolHandler.removeQuoteToken(3, 158361104462406740557101966786165825470941249965, 278702376035538799398015989340);

        // check invariants hold true
        invariant_Lps();
        invariant_quoteTokenBalance();
        invariant_fenwickTreeSum();
    }

    // function test_regression_fenwickInvarFail() external {
    // }



}