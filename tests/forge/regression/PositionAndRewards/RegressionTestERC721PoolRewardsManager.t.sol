// SPDX-License-Identifier: UNLICENSED

pragma solidity 0.8.18;

import { ERC721PoolRewardsInvariants } from "../../invariants/PositionsAndRewards/ERC721PoolRewardsInvariants.t.sol";

contract RegressionTestERC721PoolRewardsManager is ERC721PoolRewardsInvariants {

    function setUp() public override { 
        super.setUp();
    }

    // issue in invariants totalling amount of rewards that caller of claimRewards was receiving.
    // fix: claimrewards and update rewards now go to caller of claimRewards
    function test_regression_failure_rewards_exceeded_claim() external {
        _erc721poolrewardsHandler.settleAuction(17873, 2208, 326, 1944);
        _erc721poolrewardsHandler.stake(115792089237316195423570985008687907853269984665640564039457584007913129639932, 53134310333307170138, 115792089237316195423570985008687907853269984665640564039457584007913129639934, 2340533661754158540520179666008670241532871916995373825004189326661505987844);
        _erc721poolrewardsHandler.pledgeCollateral(8132, 11716, 1057);
        _erc721poolrewardsHandler.kickReserveAuction(2985325127, 23214);
        _erc721poolrewardsHandler.removeCollateral(3461, 514, 17285, 838);
        _erc721poolrewardsHandler.kickAuction(18170, 652, 11342, 1168);
        _erc721poolrewardsHandler.pullCollateral(20130, 1209987167530552461153974115173428229758989546163, 150941);
        _erc721poolrewardsHandler.moveLiquidity(63198806135952229891699111929727509482991997027848329114178785250303971081388, 77371051183995213971267347974759461809434770063921461351617080426027329266071, 4805, 103015036129420501082640292999971233764824083444698625545321391489266878218522, 2289);
        _erc721poolrewardsHandler.moveQuoteToken(276169773153138481519606288636310061814657663456104947149, 1, 0, 108537837119796081908394324659000725292282331478997011952318493996290, 155532253556112179854090944828383440910501711771906801208685755840667262568);
        _erc721poolrewardsHandler.mergeCollateral(173, 22406963037383631220938302497939718111833223267188040374368716127276);
        _erc721poolrewardsHandler.burn(1328065707762407283002828802143541176473931677425004844, 1, 1, 37613208758526068006052551033711685);
        _erc721poolrewardsHandler.takeAuction(0, 9352381759360299323960711216326149317387010227218710, 2546377053981808421495007542941590246694727231217, 3663797758192519198918);
        _erc721poolrewardsHandler.takeAuction(148878580729371224992950595085688885987, 52018, 3863548495672151022795311051855, 1224829895266858456828928840866630331525272263026827096173292323394330361);
        _erc721poolrewardsHandler.claimRewards(339802229099465406190265268924204103831957337149846935, 1, 2641, 1084164255431, 3, 0);
    }
}
